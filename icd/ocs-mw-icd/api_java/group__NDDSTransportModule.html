<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RTI Data Distribution Service Java API: Pluggable Transports</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Packages</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>Pluggable Transports<br>
<small>
[<a class="el" href="group__NDDSApiModule.html">RTI Data Distribution Service API Reference</a>]</small>
</h1>APIs related to RTI Data Distribution Service pluggable transports.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NDDSTransportUserModule.html">Using Transport Plugins</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configuring transports used by RTI Data Distribution Service. <br></td></tr>

<p>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NDDS__TransportBuiltinsComponent.html">Built-in Transport Plugins</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transport plugins delivered with RTI Data Distribution Service. <br></td></tr>

<p>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NDDSTransportDeveloperModule.html">Writing New Transport Plugins</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Developing new transport plugins for RTI Data Distribution Service. <br></td></tr>

<p>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
APIs related to RTI Data Distribution Service pluggable transports. 
<p>
<h2><a class="anchor" name="NDDSTransportModule_overview">
Overview</a></h2>
RTI Data Distribution Service has a pluggable transports architecture. The core of RTI Data Distribution Service is transport agnostic; it does not make any assumptions about the actual transports used to send and receive messages. Instead, the RTI Data Distribution Service core uses an abstract "transport API" to interact with the <b>transport</b> <b>plugins</b> which implement that API. <p>
A transport plugin implements the abstract transport API and performs the actual work of sending and receiving messages over a physical transport. A collection of <b>builtin</b> <b>plugins</b> (see <a class="el" href="group__NDDS__TransportBuiltinsComponent.html">Built-in Transport Plugins</a>) is delivered with RTI Data Distribution Service for commonly used transports. New transport plugins can easily be created, thus enabling RTI Data Distribution Service applications to run over transports that may not even be conceived yet. This is a powerful capability and that distinguishes RTI Data Distribution Service from competing middleware approaches. <p>
RTI Data Distribution Service also provides a set of APIs for installing and configuring transport plugins to be used in an application. So that RTI Data Distribution Service applications work out of the box, a subset of the builtin transport plugins is <em>preconfigured</em> by default (see <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1TransportBuiltinQosPolicy.html">com.rti.dds.infrastructure.TransportBuiltinQosPolicy</a>). You can "turn-off" some or all of the builtin transport plugins. In addition, you can configure other transport plugins for use by the application. <h2><a class="anchor" name="NDDSTransportModule_aliases">
Transport Aliases</a></h2>
In order to use a transport plugin instance in an RTI Data Distribution Service application, it must be registered with a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1domain_1_1DomainParticipant.html">com.rti.dds.domain.DomainParticipant</a>. When you register a transport, you specify a sequence of "alias" strings to symbolically refer to the transport plugin. The same alias strings can be used to register more than one transport plugin. <p>
You can register multiple transport plugins with a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1domain_1_1DomainParticipant.html">com.rti.dds.domain.DomainParticipant</a>. An <b>alias</b> symbolically refers to one or more transport plugins registered with the <a class="el" href="interfacecom_1_1rti_1_1dds_1_1domain_1_1DomainParticipant.html">com.rti.dds.domain.DomainParticipant</a>. Builtin transport plugin instances can be referred to using preconfigured aliases (see <a class="el" href="group__DDSTransportBuiltinQosModule.html">TRANSPORT_BUILTIN</a>). <p>
A transport plugin's class name is automatically used as an implicit alias. It can be used to refer to all the transport plugin instances of that class. <p>
You can use aliases to refer to transport plugins, in order to specify: <p>
- the transport plugins to use for <b>discovery</b> (see <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1DiscoveryQosPolicy.html#o0">com.rti.dds.infrastructure.DiscoveryQosPolicy.enabled_transports</a>), and for <a class="el" href="interfacecom_1_1rti_1_1dds_1_1publication_1_1DataWriter.html">com.rti.dds.publication.DataWriter</a> and <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1DataReader.html">com.rti.dds.subscription.DataReader</a> entities (see <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1TransportSelectionQosPolicy.html">com.rti.dds.infrastructure.TransportSelectionQosPolicy</a>). <p>
- the <b>multicast</b> addresses on which to receive discovery messages (see <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1DiscoveryQosPolicy.html#o1">com.rti.dds.infrastructure.DiscoveryQosPolicy.multicast_receive_addresses</a>), and the multicast addresses and ports on which to receive user data (see <a class="el" href="classcom_1_1rti_1_1dds_1_1subscription_1_1DataReaderQos.html#o16">com.rti.dds.subscription.DataReaderQos.multicast</a>). <p>
- the <b>unicast</b> <b>ports</b> used for user data (see <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1TransportUnicastQosPolicy.html">com.rti.dds.infrastructure.TransportUnicastQosPolicy</a>) on both <a class="el" href="interfacecom_1_1rti_1_1dds_1_1publication_1_1DataWriter.html">com.rti.dds.publication.DataWriter</a> and <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1DataReader.html">com.rti.dds.subscription.DataReader</a> entities. <p>
- the transport plugins used to parse an address string in a locator (<a class="el" href="group__NDDS__DISCOVERY__PEERS.html#NDDS_DISCOVERY_PEERS_locator_format">Locator Format</a> and <a class="el" href="group__NDDS__DISCOVERY__PEERS.html">NDDS_DISCOVERY_PEERS</a>). <p>
A <a class="el" href="interfacecom_1_1rti_1_1dds_1_1domain_1_1DomainParticipant.html">com.rti.dds.domain.DomainParticipant</a> (and contained its entities) start using a transport plugin after the <a class="el" href="interfacecom_1_1rti_1_1dds_1_1domain_1_1DomainParticipant.html">com.rti.dds.domain.DomainParticipant</a> is enabled (see <a class="el" href="interfacecom_1_1rti_1_1dds_1_1infrastructure_1_1Entity.html#a0">com.rti.dds.infrastructure.Entity.enable</a>). An entity will use <em>all</em> the transport plugins that match the specified transport QoS policy. All transport plugins are treated uniformly, regardless of how they were created or registered; there is no notion of some transports being more "special" that others. <h2><a class="anchor" name="NDDSTransportModule_lifecycle">
Transport Lifecycle</a></h2>
A transport plugin is owned by whoever created it. Thus, if you create and register a transport plugin with a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1domain_1_1DomainParticipant.html">com.rti.dds.domain.DomainParticipant</a>, you are responsible for deleting it by calling its destructor. Note that builtin transport plugins (<a class="el" href="group__DDSTransportBuiltinQosModule.html">TRANSPORT_BUILTIN</a>) and transport plugins that are loaded through the <a class="el" href="group__DDSPropertyQosModule.html">PROPERTY</a> QoS policy (see <a class="el" href="group__NDDSTransportUserModule.html#NDDSTransportLoadPluginModule">Loading Transport Plugins through Property QoS Policy of Domain Participant</a>) are automatically managed by RTI Data Distribution Service. <p>
A user-created transport plugin must not be deleted while it is still in use by a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1domain_1_1DomainParticipant.html">com.rti.dds.domain.DomainParticipant</a>. This generally means that a user-created transport plugin instance can only be deleted after the <a class="el" href="interfacecom_1_1rti_1_1dds_1_1domain_1_1DomainParticipant.html">com.rti.dds.domain.DomainParticipant</a> with which it was registered is deleted (see <a class="el" href="classcom_1_1rti_1_1dds_1_1domain_1_1DomainParticipantFactory.html#a1">com.rti.dds.domain.DomainParticipantFactory.delete_participant</a>). Note that a transport plugin <em>cannot</em> be "unregistered" from a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1domain_1_1DomainParticipant.html">com.rti.dds.domain.DomainParticipant</a>. <p>
A transport plugin instance cannot be registered with more than one <a class="el" href="interfacecom_1_1rti_1_1dds_1_1domain_1_1DomainParticipant.html">com.rti.dds.domain.DomainParticipant</a> at a time. This requirement is necessary to guarantee the multi-threaded safety of the transport API. <p>
If the same physical transport resources are to be used with more than one <a class="el" href="interfacecom_1_1rti_1_1dds_1_1domain_1_1DomainParticipant.html">com.rti.dds.domain.DomainParticipant</a> in the same address space, the transport plugin should be written in such a way so that it can be instantiated multiple times---once for each <a class="el" href="interfacecom_1_1rti_1_1dds_1_1domain_1_1DomainParticipant.html">com.rti.dds.domain.DomainParticipant</a> in the address space. Note that it is always possible to write the transport plugin so that multiple transport plugin instances share the same underlying resources; however the burden (if any) of guaranteeing multi-threaded safety to access shared resource shifts to the transport plugin developer. <h2><a class="anchor" name="NDDSTransportModule_class_attributes">
Transport Class Attributes</a></h2>
A transport plugin instance is associated with two kinds of attributes: <p>
- the <em>class</em> attributes that are decided by the plugin writer; these are invariant across all instances of the transport plugin class, and <p>
- the <em>instance</em> attributes that can be set on a per instance basis by the transport plugin user. <p>
Every transport plugin must specify the following class attributes. <p>
<dl>
<dt><b> transport class id </b> (see <a class="el" href="classcom_1_1rti_1_1ndds_1_1transport_1_1Transport_1_1Property__t.html#o0">com.rti.ndds.transport.Transport.Property_t.classid</a>)  </dt>
<dd>Identifies a transport plugin implementation class. It denotes a unique "class" to which the transport plugin instance belongs. The class is used to distinguish between different transport plugin implementations. Thus, a transport plugin vendor should ensure that its transport plugin implementation has a unique class. <p>
Two transport plugin instances report the same class <em>iff</em> they have compatible implementations. Transport plugin instances with mismatching classes are not allowed (by the RTI Data Distribution Service Core) to communicate with one another. <p>
Multiple implementations (possibly from different vendors) for a physical transport mechanism can co-exist in an RTI Data Distribution Service application, provided they use different transport class IDs. <p>
The class ID can also be used to distinguish between different transport protocols over the same physical transport network (e.g., UDP vs. TCP over the IP routing infrastructure). <p>
<p>
</dd>
<dt><b> transport significant address bit count </b> (see <a class="el" href="classcom_1_1rti_1_1ndds_1_1transport_1_1Transport_1_1Property__t.html#o1">com.rti.ndds.transport.Transport.Property_t.address_bit_count</a>)   </dt>
<dd>RTI Data Distribution Service's addressing is modeled after the IPv6 and uses 128-bit addresses ( java.net.InetAddress ) to route messages. <p>
A transport plugin is expected to map the transport's internal addressing scheme to 128-bit addresses. In general, this mapping is likely to use only <code>N</code> least significant bits (LSB); these are specified by this attribute. <p>
<div class="fragment"><pre class="fragment">  &gt;-------------- netmask ----------------&lt;
  +---------------------------------------+----------------------------+
  |          Network Address              |   Transport Local Address  |
  +---------------------------------------+----------------------------+
                                          &gt;------------  N ------------&lt;
                                                address_bits_count
   
                                              Only these bits are used
                                              by the transport plugin. </pre></div> <p>
The remaining bits of an address using the 128-bit address representation will be considered as part of the "network address" (see <a class="el" href="group__NDDSTransportModule.html#NDDSTransportModule_net_address">Transport Network Address</a>) and thus ignored by the transport plugin's internal addressing scheme. <p>
For <em>unicast</em> addresses, the transport plugin is expected to ignore the higher (128 - <a class="el" href="classcom_1_1rti_1_1ndds_1_1transport_1_1Transport_1_1Property__t.html#o1">com.rti.ndds.transport.Transport.Property_t.address_bit_count</a>) bits. RTI Data Distribution Service is free to manipulate those bits freely in the addresses passed in/out to the transport plugin APIs. <p>
Theoretically, the significant address bits count, <code>N</code> is related to the size of the underlying transport network as follows: <p class="formulaDsp">
<img class="formulaDsp" alt="\[ address\_bits\_count >= ceil(log_2(total\_addressable\_transport\_unicast\_interfaces)) \]" src="form_0.png">
<p>
 The equality holds when the most compact (theoretical) internal address mapping scheme is used. A practical address mapping scheme may waste some bits.  </dd>
</dl>
<h2><a class="anchor" name="NDDSTransportModule_instance_attributes">
Transport Instance Attributes</a></h2>
The <em>per</em> <em>instance</em> attributes to configure the plugin instance are generally passed in to the plugin constructor. These are defined by the transport plugin writer, and can be used to: <p>
- customize the behavior of an instance of a transport plugin, including the send and the receiver buffer sizes, the maximum message size, various transport level classes of service (CoS), and so on. <p>
- specify the resource values, network interfaces to use, various transport level policies, and so on. <p>
RTI Data Distribution Service requires that every transport plugin instance must specify the <a class="el" href="classcom_1_1rti_1_1ndds_1_1transport_1_1Transport_1_1Property__t.html#o4">com.rti.ndds.transport.Transport.Property_t.message_size_max</a> and <a class="el" href="classcom_1_1rti_1_1ndds_1_1transport_1_1Transport_1_1Property__t.html#o3">com.rti.ndds.transport.Transport.Property_t.gather_send_buffer_count_max</a>. <p>
It is up to the transport plugin developer to make these available for configuration to transport plugin user. <p>
Note that it is important that the instance attributes are "compatible" between the sending side and the receiving side of communicating applications using different instances of a transport plugin class. For example, if one side is configured to send messages larger than can be received by the other side, then communications via the plugin may fail. <h2><a class="anchor" name="NDDSTransportModule_net_address">
Transport Network Address</a></h2>
The address bits not used by the transport plugin for its internal addressing constitute its network address bits. <p>
In order for RTI Data Distribution Service to properly route the messages, each unicast interface in the RTI Data Distribution Service <em>domain</em> must have a unique address. RTI Data Distribution Service allows the user to specify the value of the network address when installing a transport plugin via the com.rti.ndds.transport.TransportSupport.register_transport() API. <p>
The network address for a transport plugin should be chosen such that the resulting fully qualified 128-bit address will be unique in the RTI Data Distribution Service domain. Thus, if two instances of a transport plugin are registered with a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1domain_1_1DomainParticipant.html">com.rti.dds.domain.DomainParticipant</a>, they will be at different network addresses in order for their unicast interfaces to have unique fully qualified 128-bit addresses. It is also possible to create multiple transports with the same network address, as it can be useful for certain use cases; note that this will require special entity configuration for most transports to avoid clashes in resource use (e.g. sockets for UDPv4 transport). <h2><a class="anchor" name="NDDSTransportModule_send_route">
Transport Send Route</a></h2>
By default, a transport plugin is configured to send outgoing messages destined to addresses in the network address range at which the plugin was registered. <p>
RTI Data Distribution Service allows the user to configure the routing of outgoing messages via the com.rti.ndds.transport.TransportSupport.add_send_route() API, so that a transport plugin will be used to send messages only to certain ranges of destination addresses. The method can be called multiple times for a transport plugin, with different address ranges. <p>
<a class="anchor" name="NDDSTransportModule_send_route_table"></a> <div class="fragment"><pre class="fragment">   +--------------------------------------------------------------------+
   |         Outgoing Address Range 1     -&gt;      Transport Plugin      |
   +--------------------------------------------------------------------+
   |              :                       -&gt;              :             |
   +--------------------------------------------------------------------+
   |         Outgoing Address Range K     -&gt;      Transport Plugin      |
   +--------------------------------------------------------------------+ </pre></div> <p>
The user can set up a routing table to restrict the use of a transport plugin to send messages to selected addresses ranges. <h2><a class="anchor" name="NDDSTransportModule_recv_route">
Transport Receive Route</a></h2>
By default, a transport plugin is configured to receive incoming messages destined to addresses in the network address range at which the plugin was registered. <p>
RTI Data Distribution Service allows the user to configure the routing of incoming messages via the com.rti.ndds.transport.TransportSupport.add_receive_route() API, so that a transport plugin will be used to receive messages only on certain ranges of addresses. The method can be called multiple times for a transport plugin, with different address ranges. <p>
<a class="anchor" name="NDDSTransportModule_receive_route_table"></a> <div class="fragment"><pre class="fragment">   +--------------------------------------------------------------------+
   |          Transport Plugin            &lt;-  Incoming Address Range 1  |
   +--------------------------------------------------------------------+
   |                 :                    &lt;-           :                |
   +--------------------------------------------------------------------+
   |          Transport Plugin            &lt;-  Incoming Address Range M  |
   +--------------------------------------------------------------------+ </pre></div> <p>
The user can set up a routing table to restrict the use of a transport plugin to receive messages from selected ranges. For example, the user may restrict a transport plugin to <p>
- receive messages from a certain multicast address range. <p>
- receive messages only on certain unicast interfaces (when multiple unicast interfaces are available on the transport plugin). <HR>
<IMG SRC="rti_logo.gif" height="16">
<A HREF="main.html">RTI Data Distribution Service Java API Version 4.2e (General Access Release)</A>
Copyright &copy; 4 Dec 2007 
<A HREF="http://www.rti.com">Real-Time Innovations, Inc</A>
</BODY>
</HTML>
