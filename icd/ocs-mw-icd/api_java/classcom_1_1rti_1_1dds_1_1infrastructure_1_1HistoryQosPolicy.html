<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RTI Data Distribution Service Java API: HistoryQosPolicy Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Packages</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="examples.html">Examples</a></div>
<div class="nav">
<b>com</b>.<b>rti</b>.<b>dds</b>.<a class="el" href="namespacecom_1_1rti_1_1dds_1_1infrastructure.html">infrastructure</a>.<a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1HistoryQosPolicy.html">HistoryQosPolicy</a></div>
<h1>HistoryQosPolicy Class Reference<br>
<small>
[<a class="el" href="group__DDSHistoryQosModule.html">HISTORY</a>]</small>
</h1>Specifies the behavior of RTI Data Distribution Service in the case where the value of a sample changes (one or more times) before it can be successfully communicated to one or more existing subscribers.  
<a href="#_details">More...</a>
<p>
<p>Inheritance diagram for HistoryQosPolicy:
<p><center><img src="classcom_1_1rti_1_1dds_1_1infrastructure_1_1HistoryQosPolicy.png" usemap="#HistoryQosPolicy_map" border="0" alt=""></center>
<map name="HistoryQosPolicy_map">
<area href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1QosPolicy.html" alt="QosPolicy" shape="rect" coords="0,0,110,24">
</map>
<a href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1HistoryQosPolicy-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1HistoryQosPolicyKind.html">HistoryQosPolicyKind</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1HistoryQosPolicy.html#o0">kind</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Specifies the kind of history to be kept.  <a href="#o0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1HistoryQosPolicy.html#o1">depth</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Specifies the number of samples to be kept, when the <code>kind</code> is <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1HistoryQosPolicyKind.html#s0">com.rti.dds.infrastructure.HistoryQosPolicyKind.KEEP_LAST_HISTORY_QOS</a>.  <a href="#o1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1RefilterQosPolicyKind.html">RefilterQosPolicyKind</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1HistoryQosPolicy.html#o2">refilter</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><em><a class="el" href="group__DDSDocGuideModule.html#a_st_ext">&lt;&lt;eXtension&gt;&gt;</a></em> Specifies how a writer should handle previously written samples to a new reader.  <a href="#o2"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Specifies the behavior of RTI Data Distribution Service in the case where the value of a sample changes (one or more times) before it can be successfully communicated to one or more existing subscribers. 
<p>
This <code><a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1QosPolicy.html">QosPolicy</a></code> controls whether RTI Data Distribution Service should deliver only the most recent value, attempt to deliver all intermediate values, or do something in between. <p>
On the publishing side this policy controls the samples that should be maintained by the <a class="el" href="interfacecom_1_1rti_1_1dds_1_1publication_1_1DataWriter.html">com.rti.dds.publication.DataWriter</a> on behalf of existing <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1DataReader.html">com.rti.dds.subscription.DataReader</a> entities. The behavior with regards to a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1DataReader.html">com.rti.dds.subscription.DataReader</a> entities discovered after a sample is written is controlled by the <a class="el" href="group__DDSDurabilityQosModule.html">DURABILITY</a> policy. <p>
On the subscribing side it controls the samples that should be maintained until the application "takes" them from RTI Data Distribution Service. <p>
<dl compact><dt><b>Entity:</b></dt><dd><a class="el" href="classcom_1_1rti_1_1dds_1_1topic_1_1Topic.html">com.rti.dds.topic.Topic</a>, <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1DataReader.html">com.rti.dds.subscription.DataReader</a>, <a class="el" href="interfacecom_1_1rti_1_1dds_1_1publication_1_1DataWriter.html">com.rti.dds.publication.DataWriter</a> </dd></dl>
<dl compact><dt><b>Properties:</b></dt><dd><a class="el" href="group__DDSQosTypesModule.html#a_prop_rxo">RxO</a> = NO <br>
 <a class="el" href="group__DDSQosTypesModule.html#a_prop_changeable">Changeable</a> = <a class="el" href="group__DDSQosTypesModule.html#a_prop_changeable_until_enable">UNTIL ENABLE</a> <br>
 </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1ReliabilityQosPolicy.html">com.rti.dds.infrastructure.ReliabilityQosPolicy</a> <p>
com.rti.dds.infrastructure.HistoryQosPolicy </dd></dl>
<h2><a class="anchor" name="DDSHistoryQosModule_usage">
Usage</a></h2>
This policy controls the behavior of RTI Data Distribution Service when the value of an instance changes before it is finally communicated to some of its existing <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1DataReader.html">com.rti.dds.subscription.DataReader</a> entities. <p>
If the kind is set to <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1HistoryQosPolicyKind.html#s0">com.rti.dds.infrastructure.HistoryQosPolicyKind.KEEP_LAST_HISTORY_QOS</a> (the default), then RTI Data Distribution Service will only attempt to keep the latest values of the instance and discard the older ones. In this case, the value of <code>depth</code> regulates the maximum number of values (up to and including the most current one) RTI Data Distribution Service will maintain and deliver. The default (and most common setting) for depth is 1, indicating that only the most recent value should be delivered. <p>
If the kind is set to <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1HistoryQosPolicyKind.html#s1">com.rti.dds.infrastructure.HistoryQosPolicyKind.KEEP_ALL_HISTORY_QOS</a>, then RTI Data Distribution Service will attempt to maintain and deliver all the values of the instance to existing subscribers. The resources that RTI Data Distribution Service can use to keep this history are limited by the settings of the <a class="el" href="group__DDSResourceLimitsQosModule.html">RESOURCE_LIMITS</a>. If the limit is reached, then the behavior of RTI Data Distribution Service will depend on the <a class="el" href="group__DDSReliabilityQosModule.html">RELIABILITY</a>. If the reliability kind is <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1ReliabilityQosPolicyKind.html#s0">com.rti.dds.infrastructure.ReliabilityQosPolicyKind.BEST_EFFORT_RELIABILITY_QOS</a>, then the old values will be discarded. If reliability is RELIABLE, then RTI Data Distribution Service will block the <a class="el" href="interfacecom_1_1rti_1_1dds_1_1publication_1_1DataWriter.html">com.rti.dds.publication.DataWriter</a> until it can deliver the necessary old values to all subscribers. <p>
If refilter is set to <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1RefilterQosPolicyKind.html#s0">com.rti.dds.infrastructure.RefilterQosPolicyKind.NONE_REFILTER_QOS</a> then samples written before a reader is matched to a writer are not refiltered by the writer. <p>
If refilter is set to <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1RefilterQosPolicyKind.html#s1">com.rti.dds.infrastructure.RefilterQosPolicyKind.ALL_REFILTER_QOS</a> then all samples written before a reader is matched to a writer are refiltered by the writer when the reader is matched. <p>
If refilter is set to <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1RefilterQosPolicyKind.html#s2">com.rti.dds.infrastructure.RefilterQosPolicyKind.ON_DEMAND_REFILTER_QOS</a> a writer will only refilter samples a reader requests. <h2><a class="anchor" name="DDSHistoryQosModule_consistency">
Consistency</a></h2>
The setting of <a class="el" href="group__DDSHistoryQosModule.html">HISTORY</a> <code>depth</code> must be consistent with the <a class="el" href="group__DDSResourceLimitsQosModule.html">RESOURCE_LIMITS</a> <code>max_samples_per_instance</code>. For these two QoS to be consistent, they must verify that <em>depth &lt;= max_samples_per_instance</em>. <p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1ResourceLimitsQosPolicy.html">com.rti.dds.infrastructure.ResourceLimitsQosPolicy</a> </dd></dl>

<p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="o0" doxytag="com::rti::dds::infrastructure::HistoryQosPolicy::kind"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1HistoryQosPolicyKind.html">HistoryQosPolicyKind</a> <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1HistoryQosPolicy.html#o0">kind</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Specifies the kind of history to be kept. 
<p>
<b>[default]</b> <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1HistoryQosPolicyKind.html#s0">com.rti.dds.infrastructure.HistoryQosPolicyKind.KEEP_LAST_HISTORY_QOS</a>     </td>
  </tr>
</table>
<a class="anchor" name="o1" doxytag="com::rti::dds::infrastructure::HistoryQosPolicy::depth"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1HistoryQosPolicy.html#o1">depth</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Specifies the number of samples to be kept, when the <code>kind</code> is <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1HistoryQosPolicyKind.html#s0">com.rti.dds.infrastructure.HistoryQosPolicyKind.KEEP_LAST_HISTORY_QOS</a>. 
<p>
If a value other than 1 (the default) is specified, it should be consistent with the settings of the <a class="el" href="group__DDSResourceLimitsQosModule.html">RESOURCE_LIMITS</a> policy. That is: <p>
depth &lt;= <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1ResourceLimitsQosPolicy.html#o2">com.rti.dds.infrastructure.ResourceLimitsQosPolicy.max_samples_per_instance</a> <p>
When the <code>kind</code> is <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1HistoryQosPolicyKind.html#s1">com.rti.dds.infrastructure.HistoryQosPolicyKind.KEEP_ALL_HISTORY_QOS</a>, the depth has no effect. Its implied value is <code>infinity</code> (in practice limited by the settings of the <a class="el" href="group__DDSResourceLimitsQosModule.html">RESOURCE_LIMITS</a> policy). <p>
<b>[default]</b> 1 <p>
<b>[range]</b> [1,100 million], &lt;= <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1ResourceLimitsQosPolicy.html#o2">com.rti.dds.infrastructure.ResourceLimitsQosPolicy.max_samples_per_instance</a>     </td>
  </tr>
</table>
<a class="anchor" name="o2" doxytag="com::rti::dds::infrastructure::HistoryQosPolicy::refilter"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1RefilterQosPolicyKind.html">RefilterQosPolicyKind</a> <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1HistoryQosPolicy.html#o2">refilter</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<em><a class="el" href="group__DDSDocGuideModule.html#a_st_ext">&lt;&lt;eXtension&gt;&gt;</a></em> Specifies how a writer should handle previously written samples to a new reader. 
<p>
<b>[default]</b> <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1RefilterQosPolicyKind.html#s0">com.rti.dds.infrastructure.RefilterQosPolicyKind.NONE_REFILTER_QOS</a>     </td>
  </tr>
</table>
<HR>
<IMG SRC="rti_logo.gif" height="16">
<A HREF="main.html">RTI Data Distribution Service Java API Version 4.2e (General Access Release)</A>
Copyright &copy; 4 Dec 2007 
<A HREF="http://www.rti.com">Real-Time Innovations, Inc</A>
</BODY>
</HTML>
