<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RTI Data Distribution Service Java API: Participant Use Cases</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Packages</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>Participant Use Cases<br>
<small>
[<a class="el" href="group__DDSHowToModule.html">Programming How-To's</a>]</small>
</h1>Working with domain partcipants.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
</table>
<h2><a class="anchor" name="DDSParticipantExampleModule_no_autoenable">
Turning off auto-enable of newly created participant(s)</a></h2>
<ul>
<li><a class="el" href="group__DDSParticipantExampleModule.html#DDSParticipantExampleModule_factory">Get the factory</a></li></ul>
<p>
<ul>
<li>Change the value of the <a class="el" href="group__DDSEntityFactoryQosModule.html">ENTITY_FACTORY</a> for the <a class="el" href="classcom_1_1rti_1_1dds_1_1domain_1_1DomainParticipantFactory.html">com.rti.dds.domain.DomainParticipantFactory</a> <div class="fragment"><pre class="fragment">
        DomainParticipantFactoryQos factory_qos = <span class="keyword">new</span> DomainParticipantFactoryQos();
        
        <span class="keywordflow">try</span> {        
            factory.get_qos(factory_qos);
            
            <span class="comment">/* Change the QosPolicy to create disabled participants */</span>
            factory_qos.entity_factory.autoenable_created_entities = <span class="keyword">false</span>;
            
            factory.set_qos(factory_qos);
            
        } <span class="keywordflow">catch</span> (RETCODE_ERROR err) {
            System.out.println(
                    <span class="stringliteral">"***Error: changing domain participant factory qos\n"</span>);
        } 
</pre></div></li></ul>
<h2><a class="anchor" name="DDSParticipantExampleModule_factory">
Getting the factory</a></h2>
<ul>
<li>Get the DDSDomainParticipantFactory instance: <div class="fragment"><pre class="fragment">  DomainParticipantFactory factory = null;

  factory = DomainParticipantFactory.get_instance();
</pre></div></li></ul>
<h2><a class="anchor" name="DDSParticipantExampleModule_setup">
Setting up a participant</a></h2>
<ul>
<li><a class="el" href="group__DDSParticipantExampleModule.html#DDSParticipantExampleModule_factory">Get the factory</a></li></ul>
<p>
<ul>
<li>Create DDSDomainParticipant: <div class="fragment"><pre class="fragment">  <span class="keywordtype">int</span> domain_id = 10;
  DomainParticipantQos participant_qos = <span class="keyword">new</span> DomainParticipantQos();

  <span class="comment">// initialize participant_qos with default values</span>
  factory.get_default_participant_qos(participant_qos);

  <span class="comment">/* Set the peer hosts. These list all the computers the application</span>
<span class="comment"> may communicate with along with the maximum maximum participant</span>
<span class="comment"> index of the participants that can concurrently run on that</span>
<span class="comment"> computer. This list only needs to be a superset of the actual list</span>
<span class="comment"> of computers and participants that will be running at any time.</span>
<span class="comment">   */</span>

  <span class="comment">/* To run this example across multiple nodes, modify the following </span>
<span class="comment"> IP addresses to match your network configuration.</span>
<span class="comment">   */</span>
   <span class="keyword">final</span> String[] NDDS_DISCOVERY_INITIAL_PEERS = {
                <span class="stringliteral">"1@udpv4://10.10.1.192"</span>,
                        <span class="stringliteral">"1@udpv4://10.10.1.190"</span>,
                        <span class="stringliteral">"1@udpv4://10.10.1.152"</span>
    };
    participant_qos.discovery.initial_peers.
                                        ensureCapacity(NDDS_DISCOVERY_INITIAL_PEERS.length);
  
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; NDDS_DISCOVERY_INITIAL_PEERS.length; ++i) {             
            participant_qos.discovery.initial_peers.add(
                NDDS_DISCOVERY_INITIAL_PEERS[i]);
    }
        
    <span class="comment">// Initialize listener if desired</span>
    DomainParticipantListener participant_listener = null;

    <span class="comment">// Create the participant</span>
    DomainParticipant participant = null;
    <span class="keywordflow">try</span> {
            participant = factory.create_participant(
                          domain_id, participant_qos, 
                                                  participant_listener, StatusKind.STATUS_MASK_NONE);
    } <span class="keywordflow">catch</span> (RETCODE_ERROR err) {
      <span class="comment">// participant couldn't be created</span>
    }
</pre></div></li></ul>
<h2><a class="anchor" name="DDSParticipantExampleModule_teardown">
Tearing down a participant</a></h2>
<ul>
<li><a class="el" href="group__DDSParticipantExampleModule.html#DDSParticipantExampleModule_factory">Get the factory</a></li></ul>
<p>
<ul>
<li>Delete DDSDomainParticipant: <div class="fragment"><pre class="fragment">  <span class="keywordflow">try</span> {
      factory.delete_participant(participant);
  } <span class="keywordflow">catch</span> (RETCODE_ERROR err) {
      <span class="comment">// unable to delete</span>
  }
</pre></div> </li></ul>
<HR>
<IMG SRC="rti_logo.gif" height="16">
<A HREF="main.html">RTI Data Distribution Service Java API Version 4.2e (General Access Release)</A>
Copyright &copy; 4 Dec 2007 
<A HREF="http://www.rti.com">Real-Time Innovations, Inc</A>
</BODY>
</HTML>
