<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RTI Data Distribution Service C API: DDS_DatabaseQosPolicy Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>DDS_DatabaseQosPolicy Struct Reference<br>
<small>
[<a class="el" href="group__DDSDatabaseQosModule.html">DATABASE</a>]</small>
</h1>Settings for the database of entities.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structDDS__ThreadSettings__t.html">DDS_ThreadSettings_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__DatabaseQosPolicy.html#o0">thread</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Database thread settings.  <a href="#o0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structDDS__Duration__t.html">DDS_Duration_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__DatabaseQosPolicy.html#o1">shutdown_timeout</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The maximum wait time during a shutdown.  <a href="#o1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structDDS__Duration__t.html">DDS_Duration_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__DatabaseQosPolicy.html#o2">cleanup_period</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The database thread will wake up at this rate to clean up the database.  <a href="#o2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structDDS__Duration__t.html">DDS_Duration_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__DatabaseQosPolicy.html#o3">shutdown_cleanup_period</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The clean-up period used during database shut-down.  <a href="#o3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga5">DDS_Long</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__DatabaseQosPolicy.html#o4">initial_records</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The initial number of total records.  <a href="#o4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga5">DDS_Long</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__DatabaseQosPolicy.html#o5">max_skiplist_level</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The maximum level of the skiplist.  <a href="#o5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga5">DDS_Long</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__DatabaseQosPolicy.html#o7">max_weak_references</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The maximum number of weak references.  <a href="#o7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga5">DDS_Long</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__DatabaseQosPolicy.html#o8">initial_weak_references</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The initial number of weak references.  <a href="#o8"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Settings for the database of entities. 
<p>
This QoS policy is an extension to the DDS standard. <p>
<dl compact><dt><b>Entity:</b></dt><dd><a class="el" href="group__DDSDomainParticipantModule.html#ga4">DDS_DomainParticipant</a> </dd></dl>
<dl compact><dt><b>Properties:</b></dt><dd><a class="el" href="group__DDSQosTypesModule.html#a_prop_rxo">RxO</a> = N/A<br>
 <a class="el" href="group__DDSQosTypesModule.html#a_prop_changeable">Changeable</a> <a class="el" href="group__DDSQosTypesModule.html#a_prop_changeable_no">NO</a><br>
 </dd></dl>

<p>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="o0" doxytag="DDS_DatabaseQosPolicy::thread"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">struct <a class="el" href="structDDS__ThreadSettings__t.html">DDS_ThreadSettings_t</a> <a class="el" href="structDDS__DatabaseQosPolicy.html#o0">DDS_DatabaseQosPolicy::thread</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Database thread settings. 
<p>
There is only one database thread: the clean-up thread. <p>
<b>[default]</b> priority low. <br>
 The actual value depends on your architecture: <br>
 <p>
For Windows: -3<br>
 For Solaris: OS default priority<br>
 For Linux: OS default priority<br>
 For LynxOS: 10<br>
 For Integrity: 60<br>
 For VxWorks: 120<br>
 <p>
For all others: OS default priority. <p>
<b>[default]</b> The actual value depends on your architecture: <br>
 <p>
For Windows: OS default stack size<br>
 For Solaris: OS default stack size<br>
 For Linux: OS default stack size<br>
 For LynxOS: 16*1024<br>
 For Integrity: 20*1024<br>
 For VxWorks: 16*1024<br>
 <p>
For all others: OS default stack size. <p>
<b>[default]</b> mask <a class="el" href="group__DDSThreadSettingsModule.html#gga1a234">DDS_THREAD_SETTINGS_STDIO</a>     </td>
  </tr>
</table>
<a class="anchor" name="o1" doxytag="DDS_DatabaseQosPolicy::shutdown_timeout"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">struct <a class="el" href="structDDS__Duration__t.html">DDS_Duration_t</a> <a class="el" href="structDDS__DatabaseQosPolicy.html#o1">DDS_DatabaseQosPolicy::shutdown_timeout</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The maximum wait time during a shutdown. 
<p>
The domain participant will exit after the timeout, even if the database has not been fully cleaned up. <p>
The timeout is not supported for UNIX and Linux operating systems: a non-zero value is treated as infinity. <p>
<b>[default]</b> 15 seconds <p>
<b>[range]</b> [0,<a class="el" href="group__DDSTimeSupportModule.html#ga5">DDS_DURATION_INFINITE</a>]     </td>
  </tr>
</table>
<a class="anchor" name="o2" doxytag="DDS_DatabaseQosPolicy::cleanup_period"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">struct <a class="el" href="structDDS__Duration__t.html">DDS_Duration_t</a> <a class="el" href="structDDS__DatabaseQosPolicy.html#o2">DDS_DatabaseQosPolicy::cleanup_period</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The database thread will wake up at this rate to clean up the database. 
<p>
<b>[default]</b> 61 seconds <p>
<b>[range]</b> [0,1 year]     </td>
  </tr>
</table>
<a class="anchor" name="o3" doxytag="DDS_DatabaseQosPolicy::shutdown_cleanup_period"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">struct <a class="el" href="structDDS__Duration__t.html">DDS_Duration_t</a> <a class="el" href="structDDS__DatabaseQosPolicy.html#o3">DDS_DatabaseQosPolicy::shutdown_cleanup_period</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The clean-up period used during database shut-down. 
<p>
<b>[default]</b> 1 second <p>
<b>[range]</b> [0,1 year]     </td>
  </tr>
</table>
<a class="anchor" name="o4" doxytag="DDS_DatabaseQosPolicy::initial_records"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga5">DDS_Long</a> <a class="el" href="structDDS__DatabaseQosPolicy.html#o4">DDS_DatabaseQosPolicy::initial_records</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The initial number of total records. 
<p>
<b>[default]</b> 1024 <p>
<b>[range]</b> [1,10 million]     </td>
  </tr>
</table>
<a class="anchor" name="o5" doxytag="DDS_DatabaseQosPolicy::max_skiplist_level"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga5">DDS_Long</a> <a class="el" href="structDDS__DatabaseQosPolicy.html#o5">DDS_DatabaseQosPolicy::max_skiplist_level</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The maximum level of the skiplist. 
<p>
The skiplist is used to keep records in the database. Usually, the search time is log2(N), where N is the total number of records in one skiplist. However, once N exceeds 2^n, where n is the maximum skiplist level, the search time will become more and more linear. Therefore, the maximum level should be set such that 2^n is larger than the maximum(N among all skiplists). Usually, the maximum N is the maximum number of remote and local writers or readers. <p>
<b>[default]</b> 14 <p>
<b>[range]</b> [1,31]     </td>
  </tr>
</table>
<a class="anchor" name="o7" doxytag="DDS_DatabaseQosPolicy::max_weak_references"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga5">DDS_Long</a> <a class="el" href="structDDS__DatabaseQosPolicy.html#o7">DDS_DatabaseQosPolicy::max_weak_references</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The maximum number of weak references. 
<p>
A weak reference is an internal data structure that refers to a record within RTI Data Distribution Service' internal database. This field configures the maximum number of such references that RTI Data Distribution Service may create. <p>
The actual number of weak references is permitted to grow from an initial value (indicated by <a class="el" href="structDDS__DatabaseQosPolicy.html#o8">DDS_DatabaseQosPolicy::initial_weak_references</a>) to this maximum. To prevent RTI Data Distribution Service from allocating any weak references after the system has reached a steady state, set the initial and maximum values equal to one another. To indicate that the number of weak references should continue to grow as needed indefinitely, set this field to <a class="el" href="group__DDSResourceLimitsQosModule.html#ga1">DDS_LENGTH_UNLIMITED</a>. Be aware that although a single weak reference occupies very little memory, allocating a very large number of them can have a significant impact on your overall memory usage. <p>
Tuning this value precisely is difficult without intimate knowledge of the structure of RTI Data Distribution Service' database; doing so is an advanced feature not required by most applications. The default value has been chosen to be sufficient for reasonably large systems. If you believe you may need to modify this value, please consult with RTI support personnel for assistance. <p>
<b>[default]</b> <a class="el" href="group__DDSResourceLimitsQosModule.html#ga1">DDS_LENGTH_UNLIMITED</a> <p>
<b>[range]</b> [1, 100 million] or <a class="el" href="group__DDSResourceLimitsQosModule.html#ga1">DDS_LENGTH_UNLIMITED</a>, &gt;= initial_weak_references <p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="structDDS__DatabaseQosPolicy.html#o8">DDS_DatabaseQosPolicy::initial_weak_references</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="o8" doxytag="DDS_DatabaseQosPolicy::initial_weak_references"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga5">DDS_Long</a> <a class="el" href="structDDS__DatabaseQosPolicy.html#o8">DDS_DatabaseQosPolicy::initial_weak_references</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The initial number of weak references. 
<p>
See <a class="el" href="structDDS__DatabaseQosPolicy.html#o7">DDS_DatabaseQosPolicy::max_weak_references</a> for more information about what a weak reference is. <p>
If the QoS set contains an initial_weak_references value that is too small to ever grow to <a class="el" href="structDDS__DatabaseQosPolicy.html#o7">DDS_DatabaseQosPolicy::max_weak_references</a> using RTI Data Distribution Service' internal algorithm, this value will be adjusted upwards as necessary. Subsequent accesses of this value will reveal the actual initial value used. <p>
Changing the value of this field is an advanced feature; it is recommended that you consult with RTI support personnel before doing so. <p>
<b>[default]</b> 2049, which is the minimum initial value imposed by REDA when the maximum is unlimited. If a lower value is specified, it will simply be increased to 2049 automatically. <p>
<b>[range]</b> [1, 100 million], &lt;= max_weak_references <p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="structDDS__DatabaseQosPolicy.html#o7">DDS_DatabaseQosPolicy::max_weak_references</a> </dd></dl>
    </td>
  </tr>
</table>
<HR>
<IMG SRC="rti_logo.gif" height="16">
<A HREF="main.html">RTI Data Distribution Service C API Version 4.2e (General Access Release)</A>
Copyright &copy; 4 Dec 2007 
<A HREF="http://www.rti.com">Real-Time Innovations, Inc</A>
</BODY>
</HTML>
