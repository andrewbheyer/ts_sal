<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RTI Data Distribution Service C++ API: DDS_DurabilityQosPolicy Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>DDS_DurabilityQosPolicy Struct Reference<br>
<small>
[<a class="el" href="group__DDSDurabilityQosModule.html">DURABILITY</a>]</small>
</h1>This policy determines whether or not RTI Data Distribution Service should save already-sent samples in case new a <a class="el" href="classDDSDataReader.html">DDSDataReader</a> joins the network later.  
<a href="#_details">More...</a>
<p>
<a href="structDDS__DurabilityQosPolicy-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DDSDurabilityQosModule.html#ga2">DDS_DurabilityQosPolicyKind</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__DurabilityQosPolicy.html#o0">kind</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The kind of durability.  <a href="#o0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga12">DDS_Boolean</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__DurabilityQosPolicy.html#o1">direct_communication</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><em><a class="el" href="group__DDSDocGuideModule.html#a_st_ext">&lt;&lt;eXtension&gt;&gt;</a></em> Indicates whether or not a TRANSIENT or PERSISTENT <a class="el" href="classDDSDataReader.html">DDSDataReader</a> should receive samples directly from a TRANSIENT or PERSISTENT <a class="el" href="classDDSDataWriter.html">DDSDataWriter</a>  <a href="#o1"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This policy determines whether or not RTI Data Distribution Service should save already-sent samples in case new a <a class="el" href="classDDSDataReader.html">DDSDataReader</a> joins the network later. 
<p>
It is possible for a <a class="el" href="classDDSDataWriter.html">DDSDataWriter</a> to start publishing data before all (or any) <a class="el" href="classDDSDataReader.html">DDSDataReader</a> entities have joined the network. This policy makes it possible for a late-joining <a class="el" href="classDDSDataReader.html">DDSDataReader</a> to obtain previously published samples. <p>
<dl compact><dt><b>Entity:</b></dt><dd><a class="el" href="classDDSTopic.html">DDSTopic</a>, <a class="el" href="classDDSDataReader.html">DDSDataReader</a>, <a class="el" href="classDDSDataWriter.html">DDSDataWriter</a> </dd></dl>
<dl compact><dt><b>Status:</b></dt><dd><a class="el" href="group__DDSStatusTypesModule.html#gga3a216">DDS_OFFERED_INCOMPATIBLE_QOS_STATUS</a>, <a class="el" href="group__DDSStatusTypesModule.html#gga3a217">DDS_REQUESTED_INCOMPATIBLE_QOS_STATUS</a> </dd></dl>
<dl compact><dt><b>Properties:</b></dt><dd><a class="el" href="group__DDSQosTypesModule.html#a_prop_rxo">RxO</a> = YES <br>
 <a class="el" href="group__DDSQosTypesModule.html#a_prop_changeable">Changeable</a> = <a class="el" href="group__DDSQosTypesModule.html#a_prop_changeable_until_enable">UNTIL ENABLE</a> <br>
 </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__DDSDurabilityServiceQosModule.html">DURABILITY_SERVICE</a> </dd></dl>
<h2><a class="anchor" name="DDSDurabilityQosModule_usage">
Usage</a></h2>
The decoupling between <a class="el" href="classDDSDataReader.html">DDSDataReader</a> and <a class="el" href="classDDSDataWriter.html">DDSDataWriter</a> offered by the Publish/Subscribe paradigm allows an application to write data even if there are no current readers on the network. Moreover, a <a class="el" href="classDDSDataReader.html">DDSDataReader</a> that joins the network after some data has been written could potentially be interested in accessing the most current values of the data as well as potentially some history. This <code>QosPolicy</code> controls whether RTI Data Distribution Service will actually make data available to late-joining readers. Note that although related, this does not strictly control what data RTI Data Distribution Service will maintain internally. That is, RTI Data Distribution Service may choose to maintain some data for its own purposes (e.g. flow control) and yet not make it available to late-joining readers if the <a class="el" href="group__DDSDurabilityQosModule.html">DURABILITY</a> policy is set to <a class="el" href="group__DDSDurabilityQosModule.html#gga2a290">DDS_VOLATILE_DURABILITY_QOS</a>. <p>
For the purpose of implementing the DURABILITY QoS kind TRANSIENT or PERSISTENT, RTI Data Distribution Service behaves 'as if' -- for each Topic that has <a class="el" href="structDDS__DurabilityQosPolicy.html#o0">DDS_DurabilityQosPolicy::kind</a> of <a class="el" href="group__DDSDurabilityQosModule.html#gga2a292">DDS_TRANSIENT_DURABILITY_QOS</a> or <a class="el" href="group__DDSDurabilityQosModule.html#gga2a293">DDS_PERSISTENT_DURABILITY_QOS</a> -- there is a corresponding 'built-in' DataReader and DataWriter configured with the same DURABILITY kind. <p>
In other words, it is 'as if' somewhere in the system (possibly on a remote node) there is a 'built-in durability DataReader' that subscribed to that Topic and a 'built-in durability DataWriter' that published that Topic as needed for the new subscribers that join the system. <p>
For each Topic, the built-in fictitious 'persistence service' DataReader and DataWriter have their QoS configured from the Topic QoS of the corresponding Topic. In other words, it is 'as-if' RTI Data Distribution Service first did find_topic to access the Topic, and then used the QoS from the Topic to configure the fictitious built-in entities. <p>
A consequence of this model is that the transient or persistence service can be configured by means of setting the proper QoS on the Topic. <p>
For a given Topic, the usual request/offered semantics apply to the matching between any <a class="el" href="classDDSDataWriter.html">DDSDataWriter</a> in the system that writes the Topic and the built-in transient/persistent DataReader for that Topic; similarly for the built-in transient/persistent DataWriter for a Topic and any <a class="el" href="classDDSDataReader.html">DDSDataReader</a> for the Topic. As a consequence, a <a class="el" href="classDDSDataWriter.html">DDSDataWriter</a> that has an incompatible QoS with respect to what the Topic specified will not send its data to the transient/persistent service, and a <a class="el" href="classDDSDataReader.html">DDSDataReader</a> that has an incompatible QoS with respect to what is specified in the Topic will not get data from it. <p>
Incompatibilities between local <a class="el" href="classDDSDataReader.html">DDSDataReader</a> and <a class="el" href="classDDSDataWriter.html">DDSDataWriter</a> entities and the corresponding fictitious 'built-in transient/persistent entities' cause the <a class="el" href="group__DDSStatusTypesModule.html#gga3a217">DDS_REQUESTED_INCOMPATIBLE_QOS_STATUS</a> and <a class="el" href="group__DDSStatusTypesModule.html#gga3a216">DDS_OFFERED_INCOMPATIBLE_QOS_STATUS</a> to change and the corresponding Listener invocations and/or signaling of Condition and WaitSet objects as they would with nonfictitious entities. <p>
The setting of the <a class="el" href="structDDS__DurabilityServiceQosPolicy.html#o0">DDS_DurabilityServiceQosPolicy::service_cleanup_delay</a> controls when the TRANSIENT or PERSISTENT service is able to remove all information regarding a data-instances. <p>
Information on a data-instances is maintained until the following conditions are met: <p>
1. The instance has been explicitly disposed (instance_state = NOT_ALIVE_DISPOSED), <p>
and <p>
2. While in the NOT_ALIVE_DISPOSED state, the system detects that there are no more 'live' <a class="el" href="classDDSDataWriter.html">DDSDataWriter</a> entities writing the instance. That is, all existing writers either unregister the instance (call unregister) or lose their liveliness, <p>
and <p>
3. A time interval longer that <a class="el" href="structDDS__DurabilityServiceQosPolicy.html#o0">DDS_DurabilityServiceQosPolicy::service_cleanup_delay</a> has elapsed since the moment RTI Data Distribution Service detected that the previous two conditions were met. <p>
The utility of <a class="el" href="structDDS__DurabilityServiceQosPolicy.html#o0">DDS_DurabilityServiceQosPolicy::service_cleanup_delay</a> is apparent in the situation where an application disposes an instance and it crashes before it has a chance to complete additional tasks related to the disposition. Upon restart, the application may ask for initial data to regain its state and the delay introduced by the service_cleanup_delay will allow the restarted application to receive the information on the disposed instance and complete the interrupted tasks. <h2><a class="anchor" name="DDSDurabilityQosModule_compatibility">
Compatibility</a></h2>
The value offered is considered compatible with the value requested if and only if the inequality <em>offered kind &gt;= requested kind</em> evaluates to 'TRUE'. For the purposes of this inequality, the values of DURABILITY kind are considered ordered such that <a class="el" href="group__DDSDurabilityQosModule.html#gga2a290">DDS_VOLATILE_DURABILITY_QOS</a> &lt; <a class="el" href="group__DDSDurabilityQosModule.html#gga2a291">DDS_TRANSIENT_LOCAL_DURABILITY_QOS</a> &lt; <a class="el" href="group__DDSDurabilityQosModule.html#gga2a292">DDS_TRANSIENT_DURABILITY_QOS</a> &lt; <a class="el" href="group__DDSDurabilityQosModule.html#gga2a293">DDS_PERSISTENT_DURABILITY_QOS</a>. 
<p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="o0" doxytag="DDS_DurabilityQosPolicy::kind"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__DDSDurabilityQosModule.html#ga2">DDS_DurabilityQosPolicyKind</a> <a class="el" href="structDDS__DurabilityQosPolicy.html#o0">DDS_DurabilityQosPolicy::kind</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The kind of durability. 
<p>
<b>[default]</b> <a class="el" href="group__DDSDurabilityQosModule.html#gga2a290">DDS_VOLATILE_DURABILITY_QOS</a>     </td>
  </tr>
</table>
<a class="anchor" name="o1" doxytag="DDS_DurabilityQosPolicy::direct_communication"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga12">DDS_Boolean</a> <a class="el" href="structDDS__DurabilityQosPolicy.html#o1">DDS_DurabilityQosPolicy::direct_communication</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<em><a class="el" href="group__DDSDocGuideModule.html#a_st_ext">&lt;&lt;eXtension&gt;&gt;</a></em> Indicates whether or not a TRANSIENT or PERSISTENT <a class="el" href="classDDSDataReader.html">DDSDataReader</a> should receive samples directly from a TRANSIENT or PERSISTENT <a class="el" href="classDDSDataWriter.html">DDSDataWriter</a> 
<p>
When direct_communication is set to <a class="el" href="group__DDSCdrTypesModule.html#ga14">DDS_BOOLEAN_TRUE</a>, a TRANSIENT or PERSISTENT <a class="el" href="classDDSDataReader.html">DDSDataReader</a> will received samples from both, the original <a class="el" href="classDDSDataWriter.html">DDSDataWriter</a> configured with TRANSIENT or PERSISTENT durability, and the <a class="el" href="classDDSDataWriter.html">DDSDataWriter</a> created by the persistence service. This peer-to-peer communication pattern provides low latency between end-points. <p>
If the same sample is received from the original <a class="el" href="classDDSDataWriter.html">DDSDataWriter</a> and the persistence service, the middleware will discard the duplicate. <p>
When direct_communication is set to <a class="el" href="group__DDSCdrTypesModule.html#ga15">DDS_BOOLEAN_FALSE</a> a TRANSIENT or PERSISTENT <a class="el" href="classDDSDataReader.html">DDSDataReader</a> will received samples only from the <a class="el" href="classDDSDataWriter.html">DDSDataWriter</a> created by the persistence service. This brokered communication pattern provides a way to guarantee eventual consistency. <p>
<b>[default]</b> <a class="el" href="group__DDSCdrTypesModule.html#ga14">DDS_BOOLEAN_TRUE</a>     </td>
  </tr>
</table>
<HR>
<IMG SRC="rti_logo.gif" height="16">
<A HREF="main.html">RTI Data Distribution Service C++ API Version 4.2e (General Access Release)</A>
Copyright &copy; 4 Dec 2007 
<A HREF="http://www.rti.com">Real-Time Innovations, Inc</A>
</BODY>
</HTML>
