<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RTI Data Distribution Service C++ API: rtiddsspy</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>rtiddsspy<br>
<small>
[<a class="el" href="group__DDSToolModule.html">Programming Tools</a>]</small>
</h1>Debugging tool which receives all RTI Data Distribution Service communication.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
</table>
The rtiddsspy utility allows the user to monitor groups of publications available on any RTI Data Distribution Service domain.<p>
To run rtiddsspy, like any RTI Data Distribution Service application, you will need to have the NDDS_DISCOVERY_PEERS environment variable that defines your RTI Data Distribution Service domain or else specify the peers as command line parameters.<p>
<b> Usage </b><p>
<pre>
  <b>rtiddsspy</b> [-help] [-version] 
        [-domainId &lt;domainId&gt;]     ... defaults to 0
        [-index &lt;NN&gt;]              ... defaults to -1 (auto)
        [-appId &lt;ID&gt;]              ... defaults to a middleware-selected value
        [-Verbosity &lt;NN&gt;]          ... can be 0..5
        [-peer &lt;PEER&gt;]             ... PEER format is NN@TRANSPORT://ADDRESS
        [-discoveryTTL &lt;NN&gt;]       ... can be 0..255
        [-transport &lt;MASK&gt;]        ... defaults to DDS_TRANSPORTBUILTIN_MASK_DEFAULT
        [-msgMaxSize &lt;SIZE&gt;]       ... defaults to -1 (transport default)
        [-shmRcvSize &lt;SIZE&gt;]       ... defaults to -1 (transport default)
        [-tcMaxSize &lt;SIZE&gt;]        ... defaults to 4096
        [-hOutput]            
        [-deadline   &lt;SS&gt;]         ... defaults to -1 (no deadline)
        [-timeFilter &lt;SS&gt;]         ... defaults to  0 (no filter)
        [-showHandle]         
        [-typeRegex &lt;REGEX&gt;]       ... defaults to "*"
        [-topicRegex &lt;REGEX&gt;]      ... defaults to "*"
        [-typeWidth &lt;WIDTH&gt;]       ... can be 1..255
        [-topicWidth &lt;WIDTH&gt;]      ... can be 1..255
        [-truncate]
        [-printSample]</pre><p>
<pre> <b>Example:</b> rtiddsspy -domainId 3 -topicRegex "Alarm*"
 </pre><p>
<b>VxWorks Usage</b> <pre>
  <b>rtiddsspy</b> "[&lt;options&gt;]"
        The options use the same syntax as above.</pre><p>
<pre>  <b>Example</b> rtiddsspy "-domainId 3 -topicRegex Alarm*"</pre><p>
<pre>  rtiddsspy requires about 25 kB of stack. If the stack size of the shell it is invoked from is not large enough, use "taskSpawn":</pre><p>
<pre>  <b>taskSpawn</b> &lt;name&gt;, &lt;priority&gt;, &lt;taskspawn options&gt;, &lt;stack size in bytes&gt;, rtiddsspy, "[\&lt;options\&gt;]"</pre><p>
<pre>  The options use the same syntax as above.</pre><p>
<pre>  <b>Example</b> taskSpawn "rtiddsspy", 100, 0x8, 50000, rtiddsspy, "-domainId 3 -topicRegex Alarm*"   
 </pre><p>
<b>Options:</b><p>
<b>-help</b> Prints a help message and exists<p>
<b>-version</b> Prints the version and exists<p>
<b>-Verbosity</b> &lt;NN&gt; Sets the verbosity level. The range is 0 to 5. <p>
0 has minimal output and does not echo the fact that data is being sent or received. <p>
1 prints the most relevant statuses, including the sending and receiving of data. It is the default. <p>
2 prints a summary of the parameters that are in use and echoes more detailed status messages. <p>
3-5 Mostly affect the verbosity used by the internal RTI Data Distribution Service modules used to implement rtiddsspy. The output is not always readable its main purpose being providing information that may be useful to RTI's support team. <p>
Example: rtiddsspy -Verbosity 2<p>
<b>-domainId</b> &lt;NN&gt; <p>
Sets the domain ID. The valid range is 0 to 100. <p>
Example: rtiddsspy -domainId 31<p>
<b>-appId</b> &lt;ID&gt; <p>
Sets the application ID. If unspecified the system will pick one automatically. <p>
This option is rarely used. <p>
<b><b>Example:</b> rtiddsspy</b> -appId 34556<p>
<b>-index</b> &lt;NN&gt; <p>
Sets the participantIndex. If partcipantIndex is not -1 (auto), then it needs to be different from the one used by all other applications in the same computer and domainId. If this is not respected rtiddsspy (or the application that starts last) will get an initialization error. <p>
<b>Example:</b> rtiddsspy -index 2<p>
<b>-peer</b> &lt;PEER&gt; <p>
Specifies a PEER to be used for discovery. Like any RTI Data Distribution Service application it defaults to the setting of the environment variable NDDS_DISCOVERY_PEERS or a pre-configured multicast address if the environment is not set. <p>
The format used for PEER is the same used for the NDDS_DISCOVERY_PEERS and is described in detail in <a class="el" href="group__NDDS__DISCOVERY__PEERS.html">NDDS_DISCOVERY_PEERS</a>. A brief summary follows: <p>
The general format is: NN@TRANSPORT://ADDRESS where: <ul>
<li>
ADDRESS is an address (in name form or using the IP notation xxx.xxx.xxx.xxx). ADDRESS may be a multicast address. </li>
<li>
TRANSPORT represents the kind of transport to use and NN is the maximum participantIndex expected at that location. NN can be omitted and it is defaulted to '4' </li>
<li>
Valid settings for TRANSPORT are 'udpv4' and 'shmem'. The default setting if the transport part is ommitted is 'udpv4' </li>
<li>
ADDRESS cannot be omitted if the '-peer' option is specified. ADDRESS cannot be omitted if the '-peer' option is specified. </li>
</ul>
<p>
The -peer option may be repeated to specify multiple peers. <p>
<b>Example:</b> rtiddsspy -peer 10.10.1.192 -peer mars -peer 4@pluto<p>
<b>-discoveryTTL</b> &lt;TTL&gt; <p>
Sets the TTL (time-to-live) used for multicast discovery. If not specified it defaults to the built-in RTI Data Distribution Service default. <p>
The valid range is 0 to 255. The value 0 limits multicast to the node itself (i.e. can only discover applications running on the same computer). The setting of '1' limits multicast discovery to computers on the same subnet. Settings greater generally indicate the maximum number of routers that may be traversed (although some routers may be configured differently). <p>
<b>Example:</b> rtiddsspy -discoveryTTL 16<p>
<b>-transport</b> &lt;MASK&gt; <p>
A bit-mask that sets the enabled builtin transports. If not specified, the default set of transports are used (UDPv4 + shmem). The bit values are: 1=UDPv4, 2=shmem, 8=UDPv6.<p>
<b>-msgMaxSize</b> &lt;SIZE&gt; <p>
Configure the maximum message size allowed by the installed transports. This will be needed if you are using rtiddsspy to communicate with an application that has set these transport parameters to larger than default values.<p>
<b>-shmRcvSize</b> &lt;SIZE&gt; <p>
Increase the shared memory receive buffer size used. This will be needed if you are using rtiddsspy to communicate with an application that has set these transport parameters to larger than default values.<p>
<b>-tcMaxSize</b> &lt;SIZE&gt; <p>
Configures the maximum size in bytes of a received type code.<p>
<b>-hOutput</b> <p>
Print information on the output format used by nddspy. <p>
This option causes rtiddsspy to print to the screen an explanation of the output it produces when it is normally run. After the explanation is printed it exists. <p>
<b>Example:</b> rtiddsspy -hOutput<p>
<b>-deadline</b> &lt;SS&gt; <p>
Sets the requested DEADLINE QoS for the subscriptions made by rtiddsspy. <p>
Note that this may cause the subscription QoS to be incompatible with the publisher if the publisher did not specify an offered deadline that is greater or equal to the one requested by rtiddsspy. If the QoS is incompatible rtiddsspy will not receive updates from that writer. <p>
Each time a deadline is detected rtiddsspy will print a message that indicates the number of deadlines received so far. <p>
<b>Example:</b> rtiddsspy -deadline 3.5<p>
<b>-timeFilter</b> &lt;SS&gt; <p>
Sets the TIME_BASED_FILTER QoS for the subscriptions made by rtiddsspy. This QoS causes RTI Data Distribution Service to filter-out messages that are published at a rate faster than what the filter duration permits. For example if the filter duration is 10 seconds, messages will be printed no faster than once each 10 seconds. <p>
<b>Example:</b> rtiddsspy -timeFilter 10.0<p>
<b>-showHandle</b> <p>
Causes rtiddsspy to print additional information on each sample received. The additional information is the 'instance_handle' field in the SampleHeader which can be used to distinguish among multiple instances of data-objects publishes under the same topic and type names. <p>
Samples displayed that share the topic and type names and also have the same value for the instance_handle represent value updates to the same data-object. On the other hand samples that share the topic and type names but display different values for the instance_handle <p>
This option causes rtiddsspy to print to the screen an explanation represent updates to the values of different data-objects. <p>
<b>Example:</b> rtiddsspy -showHandle<p>
<b>-typeRegex</b> &lt;REGEX&gt; <p>
Subscribe only to types that match the REGEX regular expression. The syntax of the regular expression is that defined by the POSIX regex function. <p>
Note that when typing a regular expression to a command-line shell some symbols may need to be escaped to avoid interpretation by the shell. In general it is safest to include the expression in double quotes. <p>
This option may be repeated to specify multiple topic expressions. <p>
<b>Example:</b> rtiddsspy -typeRegex "SensorArray*"<p>
<b>-topicRegex</b> &lt;REGEX&gt; <p>
Subscribe only to topics that match the REGEX regular expression. The syntax of the regular expression is that defined by the POSIX regex function. <p>
Note that when typing a regular expression to a command-line shell some symbols may need to be escaped to avoid interpretation by the shell. In general, it is safest to include the expression in double quotes. <p>
This option may be repeated to specify topic multiple expressions. <p>
<b>Example:</b> rtiddsspy -topicRegex "Alarm*"<p>
<b>-typeWidth</b> &lt;WIDTH&gt; <p>
Sets the maximum width of the Type name column. Names wider than this will wrap around, unless <code>-truncate</code> is specified. Can be 1..255.<p>
<b>-topicWidth</b> &lt;WIDTH&gt; <p>
Sets the maximum width of the Topic name column. Names wider than this will wrap around, unless <code>-truncate</code> is specified. Can be 1..255.<p>
<b>-truncate</b> <p>
Specifies that names exceeding the maximum number of characters should be truncated.<p>
<b>-printSample</b> <p>
Prints the value of the received samples.<p>
<b> Usage Examples </b><p>
The usage depends on the operating system from which rtiddsspy is executed.<p>
<b> Examples for UNIX, Linux, Windows systems</b><p>
On UNIX, Linux, Windows and other operating systems that have a shell, the syntax matches the one of the regular commands available in the shell. In the examples below, the string 'shell prompt&gt;' represents the prompt that the shell prints and are not part of the command that must be typed.<p>
<pre>
shell prompt&gt;  rtiddsspy -domainId 3 
shell prompt&gt;  rtiddsspy -domainId 5 -topicRegex "Alarm*"
shell prompt&gt;  rtiddsspy -help
</pre><p>
<b> Examples for VxWorks Systems</b><p>
On VxWorks systems, the libraries libnddscore.so, libnddsc.so and libnddscpp.so must first be loaded. The rtiddsspy command must be typed to the VxWorks shell (either an rlogin shell, a target-server shell, or the serial line prompt). The arguments are passed embedded into a single string, but otherwise have the same syntax as for Unix/Windows. In UNIX, Linux, Windows and other operating systems that have a shell, the syntax matches the one of the regular comamnds available in the shell. In the examples below, the string 'vxworks prompt&gt;' represents the prompt that the shell prints and are not part of the command that must be typed.<p>
<pre>
vxworks prompt&gt;  rtiddsspy "-domainId 3"
vxworks prompt&gt;  rtiddsspy "-domainId 5  5 -topicRegex "Alarm*"
vxworks prompt&gt;  rtiddsspy "-help"
</pre> <HR>
<IMG SRC="rti_logo.gif" height="16">
<A HREF="main.html">RTI Data Distribution Service C++ API Version 4.2e (General Access Release)</A>
Copyright &copy; 4 Dec 2007 
<A HREF="http://www.rti.com">Real-Time Innovations, Inc</A>
</BODY>
</HTML>
