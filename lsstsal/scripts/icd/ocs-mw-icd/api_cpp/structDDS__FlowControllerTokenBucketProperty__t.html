<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RTI Data Distribution Service C++ API: DDS_FlowControllerTokenBucketProperty_t Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>DDS_FlowControllerTokenBucketProperty_t Struct Reference<br>
<small>
[<a class="el" href="group__DDSFlowControllerModule.html">Flow Controller</a>]</small>
</h1><a class="el" href="classDDSFlowController.html">DDSFlowController</a> uses the popular token bucket approach for open loop network flow control. The flow control characteristics are determined by the token bucket properties.  
<a href="#_details">More...</a>
<p>
<a href="structDDS__FlowControllerTokenBucketProperty__t-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga5">DDS_Long</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__FlowControllerTokenBucketProperty__t.html#o0">max_tokens</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maximum number of tokens than can accumulate in the token bucket.  <a href="#o0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga5">DDS_Long</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__FlowControllerTokenBucketProperty__t.html#o1">tokens_added_per_period</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The number of tokens added to the token bucket per specified period.  <a href="#o1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga5">DDS_Long</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__FlowControllerTokenBucketProperty__t.html#o2">tokens_leaked_per_period</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The number of tokens removed from the token bucket per specified period.  <a href="#o2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structDDS__Duration__t.html">DDS_Duration_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__FlowControllerTokenBucketProperty__t.html#o3">period</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Period for adding tokens to and removing tokens from the bucket.  <a href="#o3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga5">DDS_Long</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__FlowControllerTokenBucketProperty__t.html#o4">bytes_per_token</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maximum number of bytes allowed to send for each token available.  <a href="#o4"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="classDDSFlowController.html">DDSFlowController</a> uses the popular token bucket approach for open loop network flow control. The flow control characteristics are determined by the token bucket properties. 
<p>
Asynchronously published samples are queued up and transmitted based on the token bucket flow control scheme. The token bucket contains tokens, each of which represents a number of bytes. Samples can be sent only when there are sufficient tokens in the bucket. As samples are sent, tokens are consumed. The number of tokens consumed is proportional to the size of the data being sent. Tokens are replenished on a periodic basis. <p>
The rate at which tokens become available and other token bucket properties determine the network traffic flow. <p>
Note that if the same sample must be sent to multiple destinations, separate tokens are required for each destination. Only when multiple samples are destined to the same destination will they be co-alesced and sent using the same token(s). In other words, each token can only contribute to a single network packet. <p>
<dl compact><dt><b>Entity:</b></dt><dd><a class="el" href="classDDSFlowController.html">DDSFlowController</a> </dd></dl>
<dl compact><dt><b>Properties:</b></dt><dd><a class="el" href="group__DDSQosTypesModule.html#a_prop_rxo">RxO</a> = N/A<br>
 </dd></dl>
<a class="el" href="group__DDSQosTypesModule.html#a_prop_changeable">Changeable</a> = <a class="el" href="group__DDSQosTypesModule.html#a_prop_changeable_yes">YES</a>. However, the special value of <a class="el" href="group__DDSTimeSupportModule.html#ga5">DDS_DURATION_INFINITE</a> as <a class="el" href="structDDS__FlowControllerTokenBucketProperty__t.html#o3">DDS_FlowControllerTokenBucketProperty_t::period</a> is strictly used to create an <em>on-demand</em> <a class="el" href="classDDSFlowController.html">DDSFlowController</a>. The token period cannot toggle from an infinite to finite value (or vice versa). It can, however, change from one finite value to another.<br>
 
<p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="o0" doxytag="DDS_FlowControllerTokenBucketProperty_t::max_tokens"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga5">DDS_Long</a> <a class="el" href="structDDS__FlowControllerTokenBucketProperty__t.html#o0">DDS_FlowControllerTokenBucketProperty_t::max_tokens</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Maximum number of tokens than can accumulate in the token bucket. 
<p>
The number of tokens in the bucket will never exceed this value. Any excess tokens are discarded. This property value, combined with <a class="el" href="structDDS__FlowControllerTokenBucketProperty__t.html#o4">DDS_FlowControllerTokenBucketProperty_t::bytes_per_token</a>, determines the maximum allowable data burst. <p>
Use <a class="el" href="group__DDSResourceLimitsQosModule.html#ga1">DDS_LENGTH_UNLIMITED</a> to allow accumulation of an unlimited amount of tokens (and therefore potentially an unlimited burst size). <p>
<b>[default]</b> <a class="el" href="group__DDSResourceLimitsQosModule.html#ga1">DDS_LENGTH_UNLIMITED</a>     </td>
  </tr>
</table>
<a class="anchor" name="o1" doxytag="DDS_FlowControllerTokenBucketProperty_t::tokens_added_per_period"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga5">DDS_Long</a> <a class="el" href="structDDS__FlowControllerTokenBucketProperty__t.html#o1">DDS_FlowControllerTokenBucketProperty_t::tokens_added_per_period</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The number of tokens added to the token bucket per specified period. 
<p>
<a class="el" href="classDDSFlowController.html">DDSFlowController</a> transmits data only when tokens are available. Tokens are periodically replenished. This field determines the number of tokens added to the token bucket with each periodic replenishment. <p>
Available tokens are distributed to associated <a class="el" href="classDDSDataWriter.html">DDSDataWriter</a> instances based on the <a class="el" href="structDDS__FlowControllerProperty__t.html#o0">DDS_FlowControllerProperty_t::scheduling_policy</a>. <p>
Use <a class="el" href="group__DDSResourceLimitsQosModule.html#ga1">DDS_LENGTH_UNLIMITED</a> to add the maximum number of tokens allowed by <a class="el" href="structDDS__FlowControllerTokenBucketProperty__t.html#o0">DDS_FlowControllerTokenBucketProperty_t::max_tokens</a>. <p>
<b>[default]</b> <a class="el" href="group__DDSResourceLimitsQosModule.html#ga1">DDS_LENGTH_UNLIMITED</a>     </td>
  </tr>
</table>
<a class="anchor" name="o2" doxytag="DDS_FlowControllerTokenBucketProperty_t::tokens_leaked_per_period"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga5">DDS_Long</a> <a class="el" href="structDDS__FlowControllerTokenBucketProperty__t.html#o2">DDS_FlowControllerTokenBucketProperty_t::tokens_leaked_per_period</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The number of tokens removed from the token bucket per specified period. 
<p>
<a class="el" href="classDDSFlowController.html">DDSFlowController</a> transmits data only when tokens are available. When tokens are replenished and there are sufficient tokens to send all samples in the queue, this property determines whether any or all of the leftover tokens remain in the bucket. <p>
Use <a class="el" href="group__DDSResourceLimitsQosModule.html#ga1">DDS_LENGTH_UNLIMITED</a> to remove all excess tokens from the token bucket once all samples have been sent. In other words, no token accumulation is allowed. When new samples are written after tokens were purged, the earliest point in time at which they can be sent is at the next periodic replenishment. <p>
<b>[default]</b> 0     </td>
  </tr>
</table>
<a class="anchor" name="o3" doxytag="DDS_FlowControllerTokenBucketProperty_t::period"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">struct <a class="el" href="structDDS__Duration__t.html">DDS_Duration_t</a> <a class="el" href="structDDS__FlowControllerTokenBucketProperty__t.html#o3">DDS_FlowControllerTokenBucketProperty_t::period</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Period for adding tokens to and removing tokens from the bucket. 
<p>
<a class="el" href="classDDSFlowController.html">DDSFlowController</a> transmits data only when tokens are available. This field determines the period by which tokens are added or removed from the token bucket. <p>
The special value <a class="el" href="group__DDSTimeSupportModule.html#ga5">DDS_DURATION_INFINITE</a> can be used to create an <em>on-demand</em> <a class="el" href="classDDSFlowController.html">DDSFlowController</a>, for which tokens are no longer replenished periodically. Instead, tokens must be added explicitly by calling <a class="el" href="classDDSFlowController.html#a3">DDSFlowController::trigger_flow</a>. This external trigger adds <a class="el" href="structDDS__FlowControllerTokenBucketProperty__t.html#o1">DDS_FlowControllerTokenBucketProperty_t::tokens_added_per_period</a> tokens each time it is called (subject to the other property settings). <p>
<b>[default]</b> 1 second <p>
<b>[range]</b> [0,1 year] or <a class="el" href="group__DDSTimeSupportModule.html#ga5">DDS_DURATION_INFINITE</a>     </td>
  </tr>
</table>
<a class="anchor" name="o4" doxytag="DDS_FlowControllerTokenBucketProperty_t::bytes_per_token"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__DDSCdrTypesModule.html#ga5">DDS_Long</a> <a class="el" href="structDDS__FlowControllerTokenBucketProperty__t.html#o4">DDS_FlowControllerTokenBucketProperty_t::bytes_per_token</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Maximum number of bytes allowed to send for each token available. 
<p>
<a class="el" href="classDDSFlowController.html">DDSFlowController</a> transmits data only when tokens are available. This field determines the number of bytes that can actually be transmitted based on the number of tokens. <p>
Tokens are always consumed in whole by each <a class="el" href="classDDSDataWriter.html">DDSDataWriter</a>. That is, in cases where <a class="el" href="structDDS__FlowControllerTokenBucketProperty__t.html#o4">DDS_FlowControllerTokenBucketProperty_t::bytes_per_token</a> is greater than the sample size, multiple samples may be sent to the same destination using a single token (regardless of <a class="el" href="structDDS__FlowControllerProperty__t.html#o0">DDS_FlowControllerProperty_t::scheduling_policy</a>). <p>
Where fragmentation is required, the fragment size will be <a class="el" href="structDDS__FlowControllerTokenBucketProperty__t.html#o4">DDS_FlowControllerTokenBucketProperty_t::bytes_per_token</a> or the minimum largest message size across all transports installed with the <a class="el" href="classDDSDataWriter.html">DDSDataWriter</a>, whichever is less. <p>
Use <a class="el" href="group__DDSResourceLimitsQosModule.html#ga1">DDS_LENGTH_UNLIMITED</a> to indicate that an unlimited number of bytes can be transmitted per token. In other words, a single token allows the recipient <a class="el" href="classDDSDataWriter.html">DDSDataWriter</a> to transmit all its queued samples to a single destination. A separate token is required to send to each additional destination. <p>
<b>[default]</b> <a class="el" href="group__DDSResourceLimitsQosModule.html#ga1">DDS_LENGTH_UNLIMITED</a> <p>
<b>[range]</b> [1024,<a class="el" href="group__DDSResourceLimitsQosModule.html#ga1">DDS_LENGTH_UNLIMITED</a>]     </td>
  </tr>
</table>
<HR>
<IMG SRC="rti_logo.gif" height="16">
<A HREF="main.html">RTI Data Distribution Service C++ API Version 4.2e (General Access Release)</A>
Copyright &copy; 4 Dec 2007 
<A HREF="http://www.rti.com">Real-Time Innovations, Inc</A>
</BODY>
</HTML>
